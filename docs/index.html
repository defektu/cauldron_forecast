<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <style>
                table, th, td {
                    border: 4px solid rgb(255, 253, 194);
                    border-collapse: collapse;
                    text-align: center;
                    padding-left: 12px;
                    padding-right: 12px;
                }
                body {
                    height: 1000px;
                    background-color: rgb(255, 255, 255); /* For browsers that do not support gradients */
                    background-image: linear-gradient(rgb(58, 193, 255), rgb(0, 28, 211));
                    color: rgb(255, 255, 255)
                }
            </style>
    </head>
    <body>
        <h1>Noita Cauldron Forecast</h1>
        <p style="color:white;background-color:red;">
            WARNING: The leap year and beta updates have caused some uncertainty in the forecast.<br>
            Contents will be unpredictable in December 2024, but this page should remain accurate until then.<br>
            Note that the cauldron's contents are determined when you first load its area each game (and again each NG+ cycle), based on UTC time.
        </p>
        <br>
        <table>
            <tr id="date"></tr>
            <tr id="forecast"></tr>
        </table>

        <script>
            let cauldron_data = '[' +
            '["01","01","1"],' +
            '["01","02","1"],' +
            '["01","03","0"],' +
            '["01","04","0"],' +
            '["01","05","1"],' +
            '["01","06","1"],' +
            '["01","07","1"],' +
            '["01","08","1"],' +
            '["01","09","0"],' +
            '["01","10","1"],' +
            '["01","11","0"],' +
            '["01","12","0"],' +
            '["01","13","1"],' +
            '["01","14","1"],' +
            '["01","15","1"],' +
            '["01","16","1"],' +
            '["01","17","0"],' +
            '["01","18","0"],' +
            '["01","19","1"],' +
            '["01","20","0"],' +
            '["01","21","1"],' +
            '["01","22","0"],' +
            '["01","23","0"],' +
            '["01","24","1"],' +
            '["01","25","0"],' +
            '["01","26","1"],' +
            '["01","27","0"],' +
            '["01","28","1"],' +
            '["01","29","1"],' +
            '["01","30","0"],' +
            '["01","31","0"],' +
            '["02","01","1"],' +
            '["02","02","0"],' +
            '["02","03","0"],' +
            '["02","04","0"],' +
            '["02","05","0"],' +
            '["02","06","1"],' +
            '["02","07","1"],' +
            '["02","08","1"],' +
            '["02","09","1"],' +
            '["02","10","1"],' +
            '["02","11","1"],' +
            '["02","12","0"],' +
            '["02","13","0"],' +
            '["02","14","1"],' +
            '["02","15","1"],' +
            '["02","16","0"],' +
            '["02","17","0"],' +
            '["02","18","1"],' +
            '["02","19","1"],' +
            '["02","20","0"],' +
            '["02","21","1"],' +
            '["02","22","0"],' +
            '["02","23","1"],' +
            '["02","24","1"],' +
            '["02","25","1"],' +
            '["02","26","0"],' +
            '["02","27","1"],' +
            '["02","28","0"],' +
            '["02","29","0"],' +
            '["03","01","0"],' +
            '["03","02","0"],' +
            '["03","03","1"],' +
            '["03","04","0"],' +
            '["03","05","1"],' +
            '["03","06","0"],' +
            '["03","07","1"],' +
            '["03","08","1"],' +
            '["03","09","0"],' +
            '["03","10","0"],' +
            '["03","11","0"],' +
            '["03","12","1"],' +
            '["03","13","1"],' +
            '["03","14","0"],' +
            '["03","15","1"],' +
            '["03","16","1"],' +
            '["03","17","1"],' +
            '["03","18","0"],' +
            '["03","19","1"],' +
            '["03","20","0"],' +
            '["03","21","1"],' +
            '["03","22","0"],' +
            '["03","23","1"],' +
            '["03","24","0"],' +
            '["03","25","1"],' +
            '["03","26","0"],' +
            '["03","27","1"],' +
            '["03","28","0"],' +
            '["03","29","1"],' +
            '["03","30","1"],' +
            '["03","31","0"],' +
            '["04","01","0"],' +
            '["04","02","1"],' +
            '["04","03","1"],' +
            '["04","04","1"],' +
            '["04","05","1"],' +
            '["04","06","0"],' +
            '["04","07","0"],' +
            '["04","08","0"],' +
            '["04","09","1"],' +
            '["04","10","1"],' +
            '["04","11","0"],' +
            '["04","12","0"],' +
            '["04","13","1"],' +
            '["04","14","0"],' +
            '["04","15","1"],' +
            '["04","16","1"],' +
            '["04","17","1"],' +
            '["04","18","0"],' +
            '["04","19","1"],' +
            '["04","20","1"],' +
            '["04","21","0"],' +
            '["04","22","0"],' +
            '["04","23","0"],' +
            '["04","24","1"],' +
            '["04","25","0"],' +
            '["04","26","1"],' +
            '["04","27","1"],' +
            '["04","28","0"],' +
            '["04","29","0"],' +
            '["04","30","0"],' +
            '["05","01","1"],' +
            '["05","02","1"],' +
            '["05","03","0"],' +
            '["05","04","1"],' +
            '["05","05","0"],' +
            '["05","06","1"],' +
            '["05","07","0"],' +
            '["05","08","0"],' +
            '["05","09","0"],' +
            '["05","10","0"],' +
            '["05","11","1"],' +
            '["05","12","0"],' +
            '["05","13","0"],' +
            '["05","14","0"],' +
            '["05","15","0"],' +
            '["05","16","0"],' +
            '["05","17","1"],' +
            '["05","18","1"],' +
            '["05","19","1"],' +
            '["05","20","0"],' +
            '["05","21","1"],' +
            '["05","22","0"],' +
            '["05","23","1"],' +
            '["05","24","1"],' +
            '["05","25","1"],' +
            '["05","26","0"],' +
            '["05","27","1"],' +
            '["05","28","1"],' +
            '["05","29","1"],' +
            '["05","30","1"],' +
            '["05","31","1"],' +
            '["06","01","1"],' +
            '["06","02","0"],' +
            '["06","03","0"],' +
            '["06","04","1"],' +
            '["06","05","1"],' +
            '["06","06","0"],' +
            '["06","07","1"],' +
            '["06","08","1"],' +
            '["06","09","0"],' +
            '["06","10","0"],' +
            '["06","11","0"],' +
            '["06","12","0"],' +
            '["06","13","0"],' +
            '["06","14","0"],' +
            '["06","15","0"],' +
            '["06","16","1"],' +
            '["06","17","1"],' +
            '["06","18","1"],' +
            '["06","19","1"],' +
            '["06","20","1"],' +
            '["06","21","0"],' +
            '["06","22","1"],' +
            '["06","23","1"],' +
            '["06","24","1"],' +
            '["06","25","0"],' +
            '["06","26","1"],' +
            '["06","27","0"],' +
            '["06","28","0"],' +
            '["06","29","0"],' +
            '["06","30","1"],' +
            '["07","01","1"],' +
            '["07","02","1"],' +
            '["07","03","0"],' +
            '["07","04","1"],' +
            '["07","05","0"],' +
            '["07","06","0"],' +
            '["07","07","1"],' +
            '["07","08","1"],' +
            '["07","09","1"],' +
            '["07","10","0"],' +
            '["07","11","0"],' +
            '["07","12","0"],' +
            '["07","13","0"],' +
            '["07","14","0"],' +
            '["07","15","0"],' +
            '["07","16","0"],' +
            '["07","17","1"],' +
            '["07","18","0"],' +
            '["07","19","1"],' +
            '["07","20","1"],' +
            '["07","21","0"],' +
            '["07","22","0"],' +
            '["07","23","1"],' +
            '["07","24","1"],' +
            '["07","25","0"],' +
            '["07","26","1"],' +
            '["07","27","1"],' +
            '["07","28","0"],' +
            '["07","29","1"],' +
            '["07","30","0"],' +
            '["07","31","1"],' +
            '["08","01","1"],' +
            '["08","02","0"],' +
            '["08","03","1"],' +
            '["08","04","1"],' +
            '["08","05","1"],' +
            '["08","06","0"],' +
            '["08","07","0"],' +
            '["08","08","1"],' +
            '["08","09","0"],' +
            '["08","10","0"],' +
            '["08","11","0"],' +
            '["08","12","1"],' +
            '["08","13","1"],' +
            '["08","14","1"],' +
            '["08","15","0"],' +
            '["08","16","1"],' +
            '["08","17","1"],' +
            '["08","18","0"],' +
            '["08","19","1"],' +
            '["08","20","1"],' +
            '["08","21","0"],' +
            '["08","22","1"],' +
            '["08","23","0"],' +
            '["08","24","1"],' +
            '["08","25","1"],' +
            '["08","26","1"],' +
            '["08","27","0"],' +
            '["08","28","0"],' +
            '["08","29","0"],' +
            '["08","30","0"],' +
            '["08","31","1"],' +
            '["09","01","1"],' +
            '["09","02","1"],' +
            '["09","03","1"],' +
            '["09","04","1"],' +
            '["09","05","1"],' +
            '["09","06","0"],' +
            '["09","07","1"],' +
            '["09","08","1"],' +
            '["09","09","1"],' +
            '["09","10","1"],' +
            '["09","11","1"],' +
            '["09","12","0"],' +
            '["09","13","0"],' +
            '["09","14","0"],' +
            '["09","15","0"],' +
            '["09","16","1"],' +
            '["09","17","0"],' +
            '["09","18","1"],' +
            '["09","19","1"],' +
            '["09","20","1"],' +
            '["09","21","0"],' +
            '["09","22","0"],' +
            '["09","23","0"],' +
            '["09","24","0"],' +
            '["09","25","0"],' +
            '["09","26","0"],' +
            '["09","27","0"],' +
            '["09","28","0"],' +
            '["09","29","1"],' +
            '["09","30","1"],' +
            '["10","01","0"],' +
            '["10","02","0"],' +
            '["10","03","0"],' +
            '["10","04","0"],' +
            '["10","05","1"],' +
            '["10","06","0"],' +
            '["10","07","0"],' +
            '["10","08","0"],' +
            '["10","09","0"],' +
            '["10","10","1"],' +
            '["10","11","1"],' +
            '["10","12","1"],' +
            '["10","13","0"],' +
            '["10","14","0"],' +
            '["10","15","0"],' +
            '["10","16","0"],' +
            '["10","17","0"],' +
            '["10","18","0"],' +
            '["10","19","1"],' +
            '["10","20","1"],' +
            '["10","21","1"],' +
            '["10","22","1"],' +
            '["10","23","1"],' +
            '["10","24","1"],' +
            '["10","25","1"],' +
            '["10","26","0"],' +
            '["10","27","0"],' +
            '["10","28","0"],' +
            '["10","29","0"],' +
            '["10","30","0"],' +
            '["10","31","1"],' +
            '["11","01","1"],' +
            '["11","02","1"],' +
            '["11","03","1"],' +
            '["11","04","0"],' +
            '["11","05","0"],' +
            '["11","06","1"],' +
            '["11","07","0"],' +
            '["11","08","1"],' +
            '["11","09","1"],' +
            '["11","10","1"],' +
            '["11","11","1"],' +
            '["11","12","0"],' +
            '["11","13","0"],' +
            '["11","14","1"],' +
            '["11","15","1"],' +
            '["11","16","0"],' +
            '["11","17","1"],' +
            '["11","18","0"],' +
            '["11","19","1"],' +
            '["11","20","0"],' +
            '["11","21","0"],' +
            '["11","22","1"],' +
            '["11","23","1"],' +
            '["11","24","1"],' +
            '["11","25","0"],' +
            '["11","26","1"],' +
            '["11","27","0"],' +
            '["11","28","0"],' +
            '["11","29","1"],' +
            '["11","30","0"],' +
            '["12","01","0"],' +
            '["12","02","1"],' +
            '["12","03","1"],' +
            '["12","04","1"],' +
            '["12","05","1"],' +
            '["12","06","0"],' +
            '["12","07","0"],' +
            '["12","08","0"],' +
            '["12","09","1"],' +
            '["12","10","0"],' +
            '["12","11","0"],' +
            '["12","12","1"],' +
            '["12","13","1"],' +
            '["12","14","1"],' +
            '["12","15","1"],' +
            '["12","16","1"],' +
            '["12","17","1"],' +
            '["12","18","1"],' +
            '["12","19","1"],' +
            '["12","20","0"],' +
            '["12","21","1"],' +
            '["12","22","0"],' +
            '["12","23","0"],' +
            '["12","24","0"],' +
            '["12","25","1"],' +
            '["12","26","0"],' +
            '["12","27","0"],' +
            '["12","28","1"],' +
            '["12","29","0"],' +
            '["12","30","0"],' +
            '["12","31","0"]' +
            ']';

            const cauldron_json = JSON.parse(cauldron_data);

            const dd = new Date();
            let month = (dd.getMonth() + 1).toString().padStart(2, '0');
            let day = dd.getDate().toString().padStart(2, '0');

            var max_days = 7;
            for (var d=0; d < cauldron_json.length; d++) {
                if ((cauldron_json[d][0] == month) && (cauldron_json[d][1] == day)) {
                    break;
                }
            }

            var e_date = document.getElementById("date")
            var e_forecast = document.getElementById("forecast")

            var LEAP_YEAR = true;
            for (var n=0; n < max_days; n++) {
                let i = (d + n) % cauldron_json.length;
                let month_i = cauldron_json[i][0];
                let day_i = cauldron_json[i][1];
                if ((month_i == "02") && (day_i == "29") &&(LEAP_YEAR == false)) {
                    max_days++;
                    continue;
                }
                let contents_i = cauldron_json[i][2];
                date_str = "<td><h2>" + month_i + "/" + day_i + "</h2>"
                e_date.innerHTML += date_str;
                var html_str = "<td>";
                if (contents_i == 0) {
                    html_str += "<img src='vl.png'><br><h3>Void Liquid</h3>";
                } else {
                    html_str += "<img src='air.png'><br><h3>Empty</h3>";
                }
                html_str += "<br>51%</td>"
                
                e_forecast.innerHTML += html_str;
            }
        </script>
    </body>
</html>
